# Development Quick Reference

> **Quick checklist and commands for FrameGrid Ghost theme development**

## 🚀 Setup (First Time)

```bash
# 1. Clone and install dependencies
git clone <repo> && cd ghost-theme-framegrid
npm install

# 2. Create local Ghost for testing
mkdir ghost-local && cd ghost-local
ghost install local --db=sqlite3 --development
cd ..

# 3. Start development
npm run dev                    # Terminal 1: Theme development
cd ghost-local && ghost start  # Terminal 2: Ghost server
```

## 🛠️ Daily Development

```bash
# Start both services
npm run dev                    # Theme building + file watching
cd ghost-local && ghost start  # Ghost at http://localhost:2368
```

## 📂 File Structure (What to Edit)

```
✅ EDIT THESE:
├── assets/css/src/main.css    # Tailwind CSS source
├── assets/js/main.js          # JavaScript
├── partials/*.hbs             # Handlebars partials
├── *.hbs                      # Template files
└── package.json               # Theme config

❌ DON'T EDIT THESE (auto-generated):
├── assets/css/main.css        # Generated by build
├── assets/built/              # Generated by build
└── ghost-local/               # Local Ghost installation
```

## ⚙️ Build Commands

```bash
npm run dev        # Development: watch + compile + live reload
npm run build      # Production: optimize + minify
npm run test       # Validate theme with GScan
npm run zip        # Create theme.zip for upload
npm run lint       # Code quality checks
```

## 🎨 CSS Development (Tailwind)

**Edit:** `assets/css/src/main.css`

```css
/* Use @layer components for custom styles */
@layer components {
  .masonry-portfolio {
    display: grid;
    grid-template-columns: repeat(var(--masonry-columns, 3), 1fr);
    gap: var(--masonry-gap, 10px);
  }
}

/* CSS custom properties for theming */
:root {
  --masonry-gap: 10px;
  --masonry-columns: 3;
}
```

## 📱 Responsive Breakpoints

```css
/* Mobile first approach */
.component {
  /* Mobile: default */
}

@media (min-width: 640px) {
  /* sm: tablet */
}
@media (min-width: 768px) {
  /* md: small desktop */
}
@media (min-width: 1024px) {
  /* lg: desktop */
}
@media (min-width: 1280px) {
  /* xl: large desktop */
}
```

## ⚡ JavaScript (Alpine.js)

**Edit:** `assets/js/main.js`

```javascript
// Alpine.js component pattern
Alpine.data("componentName", () => ({
  // Properties
  isOpen: false,
  currentImage: null,

  // Methods
  openLightbox(src, alt) {
    this.currentImage = { src, alt };
    this.isOpen = true;
  },
}));
```

## 🏗️ Handlebars Templates

```handlebars
{{!-- Use Ghost helpers properly --}}
{{img_url feature_image size='m'}}

{{!-- Loop through posts --}}
{{#foreach posts}}
  {{> "partials/card"}}
{{/foreach}}

{{!-- Conditional rendering --}}
{{#if feature_image}}
  <img src="{{img_url feature_image}}" alt="{{title}}">
{{/if}}

{{!-- Include partials --}}
{{> "partials/masonry-portfolio" posts=posts}}
```

## 🧪 Testing Checklist

### Before Committing:

- [ ] `npm run test` (GScan validation passes)
- [ ] `npm run build` (production build works)
- [ ] Test responsive design (mobile/tablet/desktop)
- [ ] Test in Ghost admin (upload theme zip)

### Browser Testing:

- [ ] Chrome 88+
- [ ] Firefox 85+
- [ ] Safari 14+
- [ ] Mobile Safari/Chrome

## 🚀 Deployment Workflow

```bash
# 1. Build production assets
npm run build

# 2. Create theme package
npm run zip

# 3. Upload to Ghost
# Ghost Admin > Design > Upload theme > Select .zip file

# 4. Activate theme
# Ghost Admin > Design > Activate
```

## 🐛 Troubleshooting

### CSS not compiling:

```bash
rm -rf node_modules package-lock.json
npm install
npm run build
```

### Ghost theme not updating:

```bash
# Restart Ghost
cd ghost-local
ghost restart

# Or force refresh browser (Cmd+Shift+R / Ctrl+Shift+R)
```

### Build errors:

```bash
# Check for syntax errors in CSS
npm run lint

# Check PostCSS config
cat postcss.config.js

# Validate Tailwind setup
npx tailwindcss --help
```

## 📦 Key Dependencies

- **Ghost CLI**: `npm install -g ghost-cli@latest`
- **Node.js**: 16+ required
- **PostCSS**: CSS processing
- **Tailwind CSS**: Utility-first CSS
- **Alpine.js**: Reactive JavaScript
- **Gulp**: Build automation

## 🔗 Quick Links

- **Local Ghost**: http://localhost:2368
- **Ghost Admin**: http://localhost:2368/ghost
- **GScan Validator**: https://gscan.ghost.org
- **Ghost Docs**: https://ghost.org/docs/themes
- **Tailwind Docs**: https://tailwindcss.com/docs

## 📝 Git Workflow

```bash
# 1. Create feature branch
git checkout -b feature/amazing-feature

# 2. Make changes + test
npm run test

# 3. Commit with conventional format
git commit -m "feat(masonry): add responsive image loading"

# 4. Push and create PR
git push origin feature/amazing-feature
```

## 🏷️ Commit Types

- `feat`: New feature
- `fix`: Bug fix
- `docs`: Documentation
- `style`: CSS/styling (no functionality change)
- `refactor`: Code refactoring
- `perf`: Performance improvement

---

**💡 Pro Tips:**

- Always use `npm run dev` during development for live reload
- Test theme in Ghost admin before pushing changes
- Use browser dev tools to test responsive breakpoints
- Keep `ghost-local/` out of version control (already in .gitignore)
